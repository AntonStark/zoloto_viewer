# Generated by Django 3.0.2 on 2021-02-01 09:22

from django.db import migrations


MARKERKIND_SVG_FIGURE = {
    '1': '''
<g transform="scale(3) translate(-5,-5)">
    <svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
        <polygon points="85.76 47.47 67.68 47.47 60 35.3 52.32 47.47 34.24 47.47 19.39 71.6 100.61 71.6 85.76 47.47"/>
    </svg>
</g>
''',
    '2': '''
<g transform="scale(3) translate(-5,-5)">
    <svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
        <path d="M99.63,60,87.92,39.7h-20V18.64H59.41A7.89,7.89,0,0,0,54,20.35a5.81,5.81,0,0,0-2,4.58,4.78,4.78,0,0,0,1,2.95,5.21,5.21,0,0,0,2.65,1.8,4.11,4.11,0,0,0-2,1.67,4.81,4.81,0,0,0-.76,2.71,5.16,5.16,0,0,0,1.79,4.1,7.21,7.21,0,0,0,4.86,1.54H32.08L20.37,60,32.08,80.3H57.64L50.48,99.39v2h3.73l1.61-4.46h8l1.63,4.46h4V99.11L62.39,80.3H87.92ZM57.49,23.16a3.29,3.29,0,0,1,2.4-.81h3.56v5.33H59.86a3.43,3.43,0,0,1-2.4-.73,2.36,2.36,0,0,1-.8-1.85A2.6,2.6,0,0,1,57.49,23.16Zm.64,12.18a2.28,2.28,0,0,1-.71-1.76,2.14,2.14,0,0,1,.75-1.73,3.17,3.17,0,0,1,2.08-.63h3.2V36H60.14A2.91,2.91,0,0,1,58.13,35.34Zm-1,57.74,2.75-7.76,2.75,7.76Z"/>
    </svg>
</g>
''',
    '3': '''
<g transform="scale(3) translate(-5,-5)">
    <svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
        <path d="M100.72,75.31,82.14,53.75,98.3,40l-5.59-6.57a8,8,0,0,0-4.86-3A5.83,5.83,0,0,0,83,31.9a4.81,4.81,0,0,0-1.65,2.67,5.18,5.18,0,0,0,.34,3.22,4.28,4.28,0,0,0-2.63-.48,5,5,0,0,0-2.6,1.19,5.22,5.22,0,0,0-2,4.09,6.62,6.62,0,0,0,1.21,3.71L60,28.06,43.69,47c.12-.23.23-.45.33-.69a9.2,9.2,0,0,0,.75-3.93,10.32,10.32,0,0,0-1-4,13.16,13.16,0,0,0-2.69-3.76A13.55,13.55,0,0,0,37.4,32a9.82,9.82,0,0,0-3.94-1,8.92,8.92,0,0,0-3.93.71,11.43,11.43,0,0,0-3.69,2.54A11.06,11.06,0,0,0,23.75,37a10,10,0,0,0-.94,2.59,5.94,5.94,0,0,0-.06,2.17,4.81,4.81,0,0,0,.49,1.54l1.53,1.53,2.64-2.64a2.8,2.8,0,0,1-.28-.8,3.89,3.89,0,0,1-.05-1.2,5.17,5.17,0,0,1,.42-1.47,5.51,5.51,0,0,1,1.16-1.6A5.12,5.12,0,0,1,33,35.48,8,8,0,0,1,37.77,38a7.86,7.86,0,0,1,2.54,4.77,5.17,5.17,0,0,1-1.64,4.32,5.63,5.63,0,0,1-1.58,1.17,4,4,0,0,1-1.42.44,3.21,3.21,0,0,1-1.14-.07,2.56,2.56,0,0,1-.75-.31L31.14,51l1.53,1.53A4.53,4.53,0,0,0,34,53a5.83,5.83,0,0,0,2.05,0,8.53,8.53,0,0,0,2.57-.88A9.24,9.24,0,0,0,40,51.23L19.28,75.31H57.77l-7.23,19.3v2h3.78L56,92.07H64.1l1.65,4.53h4.1V94.32l-7.21-19ZM85.91,35.54a2.67,2.67,0,0,1,2-.63,3.35,3.35,0,0,1,2.21,1.32L92.5,39l-4.12,3.5L86,39.72a3.51,3.51,0,0,1-1-2.34A2.47,2.47,0,0,1,85.91,35.54Zm-6.06,6.17a2.16,2.16,0,0,1,1.84-.55,3.19,3.19,0,0,1,1.85,1.19l2.1,2.47L82,48,79.78,45.4a2.87,2.87,0,0,1-.81-2A2.28,2.28,0,0,1,79.85,41.71ZM57.26,88.2l2.79-7.86,2.79,7.86Z"/>
    </svg>
</g>
''',
    '4': '''
<g transform="scale(3) translate(-5,-5)">
    <svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
        <path d="M107.6,59.31a8.08,8.08,0,0,0-1.75-5.5,5.93,5.93,0,0,0-4.68-2,4.9,4.9,0,0,0-3,1,5.23,5.23,0,0,0-1.83,2.7,4.41,4.41,0,0,0-1.71-2.1,5,5,0,0,0-2.77-.77,5.23,5.23,0,0,0-4.19,1.84A7.13,7.13,0,0,0,86.1,59V34.1H62.18a9.61,9.61,0,0,0,1-.35,9.18,9.18,0,0,0,3.32-2.27A10.32,10.32,0,0,0,68.66,28a13.39,13.39,0,0,0,.76-4.59,13.72,13.72,0,0,0-.72-4.54,10.25,10.25,0,0,0-2.06-3.54A9.33,9.33,0,0,0,63.32,13a11.54,11.54,0,0,0-4.43-.82,11.37,11.37,0,0,0-3.48.49,10.28,10.28,0,0,0-2.51,1.18,5.93,5.93,0,0,0-1.59,1.51,4.79,4.79,0,0,0-.75,1.45V19h3.76a3,3,0,0,1,.38-.78,3.87,3.87,0,0,1,.81-.89,5.06,5.06,0,0,1,1.35-.74,5.49,5.49,0,0,1,2-.32,5.19,5.19,0,0,1,4.25,2,8,8,0,0,1,1.57,5.2,7.94,7.94,0,0,1-1.57,5.21,5.25,5.25,0,0,1-4.25,1.91,6,6,0,0,1-2-.29,4.41,4.41,0,0,1-1.32-.7,3.34,3.34,0,0,1-.76-.87,2.29,2.29,0,0,1-.31-.75H50.7v2.18a4.57,4.57,0,0,0,.62,1.29,5.91,5.91,0,0,0,1.45,1.47,8.3,8.3,0,0,0,2.46,1.21l.19.05H33.88V52H12.4v7.55A11.19,11.19,0,0,0,13.26,64a10.24,10.24,0,0,0,2.33,3.39A10,10,0,0,0,19,69.57a12,12,0,0,0,4.22.74,11.74,11.74,0,0,0,4.15-.74,9.78,9.78,0,0,0,3.4-2.14A10.12,10.12,0,0,0,33.08,64a10.65,10.65,0,0,0,.8-3.4V86.32H57.57l-7.31,19.51v2h3.82l1.63-4.57h8.21l1.67,4.57h4.13v-2.3L62.44,86.32H86.1V68h21.5Zm-77.72.18A5.61,5.61,0,0,1,29.35,62a5.49,5.49,0,0,1-1.42,1.86A6.48,6.48,0,0,1,25.82,65a8.09,8.09,0,0,1-2.57.4A8.5,8.5,0,0,1,20.6,65a6.79,6.79,0,0,1-2.17-1.14A5.44,5.44,0,0,1,17,62a5.75,5.75,0,0,1-.53-2.51v-2.7H29.88ZM57,99.37l2.82-7.92,2.81,7.92ZM94.74,63.44H89.86V60.05a2.91,2.91,0,0,1,.67-2,2.32,2.32,0,0,1,1.8-.73,2.19,2.19,0,0,1,1.76.77,3.24,3.24,0,0,1,.65,2.13Zm9.07,0H98.36V59.76a3.52,3.52,0,0,1,.74-2.45,2.47,2.47,0,0,1,1.89-.82,2.69,2.69,0,0,1,2,.85,3.36,3.36,0,0,1,.83,2.45Z"/>
    </svg>
</g>
''',
    'угол': '''
<g transform="scale(3) translate(-5,-5)">
    <svg width="10" height="10" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">
        <path d="M99.54,47.6,101,46.18l-2.7-2.7-4.39,2.07-5.8-5.81,2.05-4.4L87.2,32.42,85.57,34,77.17,52.7,59.76,35.29,45.21,49.84,30,34.67l-6.15,6.15A8.08,8.08,0,0,0,21.24,46a5.91,5.91,0,0,0,1.9,4.71A4.82,4.82,0,0,0,26,52.11a5.37,5.37,0,0,0,3.21-.61,4.35,4.35,0,0,0-.28,2.69,5,5,0,0,0,1.42,2.5,5.26,5.26,0,0,0,4.26,1.67,6.77,6.77,0,0,0,3.71-1.58L19,76h81.44L80.65,56.18ZM86.2,43.4l4,4L82.59,51ZM28.49,48.24a2.47,2.47,0,0,1-1.92-.76,2.68,2.68,0,0,1-.8-2,3.37,3.37,0,0,1,1.14-2.33l2.58-2.57,3.86,3.85L30.75,47A3.56,3.56,0,0,1,28.49,48.24ZM35,53.81a2.3,2.3,0,0,1-1.78-.75,2.18,2.18,0,0,1-.7-1.8,3.25,3.25,0,0,1,1-2L35.91,47l3.45,3.45L37,52.84A2.92,2.92,0,0,1,35,53.81Z"/>
    </svg>
</g>
''',
}


def setup_svg_mark_array(apps, schema_editor):
    MarkerKind = apps.get_model('viewer', 'MarkerKind')
    for mk in MarkerKind.bucket_bounds.all():
        if mk.name in MARKERKIND_SVG_FIGURE:
            mk.svg_figures = MARKERKIND_SVG_FIGURE[mk.name]
            mk.save()


def clear_svg_mark_array(apps, schema_editor):
    MarkerKind = apps.get_model('viewer', 'MarkerKind')
    for mk in MarkerKind.bucket_bounds.all():
        if mk.name in MARKERKIND_SVG_FIGURE:
            mk.svg_figures = ''
            mk.save()


class Migration(migrations.Migration):

    dependencies = [
        ('viewer', '0042_markerkind_sides'),
    ]

    operations = [
        migrations.RunPython(code=setup_svg_mark_array, reverse_code=clear_svg_mark_array),
    ]
